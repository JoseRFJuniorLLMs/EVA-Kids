<!-- TELA DE CADASTRO DE NOTAS - VERSÃƒO KIDS -->
<div class="kids-note-page">

  <!-- CabeÃ§alho Divertido -->
  <div class="kids-header">
    <div class="mascot-container">
      <div class="mascot animate-float">
        <span class="mascot-emoji">ğŸ“</span>
      </div>
    </div>
    <h1 class="kids-title">
      <span class="title-icon">âœ¨</span>
      Criar Nova Nota
      <span class="title-icon">âœ¨</span>
    </h1>
    <p class="kids-subtitle">Vamos aprender algo novo hoje!</p>
  </div>

  <!-- FormulÃ¡rio Principal -->
  <div class="kids-form-card animate-slide-up">
    <form class="kids-form">

      <!-- TÃ­tulo da Nota -->
      <div class="form-group">
        <label class="kids-label">
          <span class="label-emoji">ğŸ“Œ</span>
          TÃ­tulo da sua nota
        </label>
        <div class="input-wrapper">
          <input
            type="text"
            class="kids-input"
            [(ngModel)]="newNote.title"
            name="title"
            placeholder="Ex: Cores do arco-Ã­ris ğŸŒˆ"
            required>
          <span class="input-icon">âœï¸</span>
        </div>
      </div>

      <!-- DescriÃ§Ã£o -->
      <div class="form-group">
        <label class="kids-label">
          <span class="label-emoji">ğŸ’­</span>
          O que vocÃª quer lembrar?
        </label>
        <div class="input-wrapper textarea-wrapper">
          <textarea
            class="kids-textarea"
            [(ngModel)]="newNote.description"
            name="description"
            placeholder="Escreva aqui o que vocÃª aprendeu... ğŸ“"
            rows="4"
            #descriptionInput
            required
            (click)="pasteFromClipboard()">
          </textarea>
          <button type="button" class="paste-btn" (click)="pasteFromClipboard()" matTooltip="Colar do clipboard">
            ğŸ“‹
          </button>
        </div>
      </div>

      <!-- Tags com Emojis -->
      <div class="form-group">
        <label class="kids-label">
          <span class="label-emoji">ğŸ·ï¸</span>
          Que tipo de nota Ã© essa?
        </label>
        <div class="tags-grid">
          <button
            type="button"
            class="tag-btn"
            [class.selected]="newNote.tags === 'VERB'"
            (click)="selectTag('VERB')">
            <span class="tag-emoji">ğŸƒ</span>
            <span class="tag-text">Verbo</span>
          </button>
          <button
            type="button"
            class="tag-btn"
            [class.selected]="newNote.tags === 'NOUN'"
            (click)="selectTag('NOUN')">
            <span class="tag-emoji">ğŸ</span>
            <span class="tag-text">Nome</span>
          </button>
          <button
            type="button"
            class="tag-btn"
            [class.selected]="newNote.tags === 'BOOK'"
            (click)="selectTag('BOOK')">
            <span class="tag-emoji">ğŸ“š</span>
            <span class="tag-text">Livro</span>
          </button>
          <button
            type="button"
            class="tag-btn"
            [class.selected]="newNote.tags === 'CLASS'"
            (click)="selectTag('CLASS')">
            <span class="tag-emoji">ğŸ«</span>
            <span class="tag-text">Aula</span>
          </button>
          <button
            type="button"
            class="tag-btn"
            [class.selected]="newNote.tags === 'GAME'"
            (click)="selectTag('GAME')">
            <span class="tag-emoji">ğŸ®</span>
            <span class="tag-text">Jogo</span>
          </button>
          <button
            type="button"
            class="tag-btn"
            [class.selected]="newNote.tags === 'MUSIC'"
            (click)="selectTag('MUSIC')">
            <span class="tag-emoji">ğŸµ</span>
            <span class="tag-text">MÃºsica</span>
          </button>
        </div>
        <!-- Input hidden para tags -->
        <input type="hidden" [(ngModel)]="newNote.tags" name="tags">
      </div>

      <!-- Resposta (Opcional) -->
      <div class="form-group">
        <label class="kids-label">
          <span class="label-emoji">ğŸ’¡</span>
          Resposta (se for uma pergunta)
        </label>
        <div class="input-wrapper">
          <input
            type="text"
            class="kids-input"
            [(ngModel)]="newNote.answer"
            name="answer"
            placeholder="A resposta Ã©... ğŸ¤”">
          <span class="input-icon">ğŸ¯</span>
        </div>
      </div>

      <!-- NÃ­vel de Dificuldade -->
      <div class="form-group">
        <label class="kids-label">
          <span class="label-emoji">â­</span>
          Qual a dificuldade?
        </label>
        <div class="level-buttons">
          <button
            type="button"
            class="level-btn level-easy"
            [class.selected]="newNote.level === 'easy'"
            (click)="selectLevel('easy')">
            <span class="level-stars">â­</span>
            <span class="level-text">FÃ¡cil</span>
            <span class="level-emoji">ğŸ˜Š</span>
          </button>
          <button
            type="button"
            class="level-btn level-medium"
            [class.selected]="newNote.level === 'medium'"
            (click)="selectLevel('medium')">
            <span class="level-stars">â­â­</span>
            <span class="level-text">MÃ©dio</span>
            <span class="level-emoji">ğŸ¤”</span>
          </button>
          <button
            type="button"
            class="level-btn level-hard"
            [class.selected]="newNote.level === 'hard'"
            (click)="selectLevel('hard')">
            <span class="level-stars">â­â­â­</span>
            <span class="level-text">DifÃ­cil</span>
            <span class="level-emoji">ğŸ§ </span>
          </button>
        </div>
        <!-- Hidden select for ngModel -->
        <mat-select [(ngModel)]="newNote.level" name="level" style="display: none;">
          <mat-option value="easy">Easy</mat-option>
          <mat-option value="medium">Medium</mat-option>
          <mat-option value="hard">Hard</mat-option>
        </mat-select>
      </div>

      <!-- Imagem (Opcional) -->
      <div class="form-group">
        <label class="kids-label">
          <span class="label-emoji">ğŸ–¼ï¸</span>
          Adicionar uma imagem
        </label>
        <div class="input-wrapper">
          <input
            type="text"
            class="kids-input"
            [(ngModel)]="newNote.image"
            name="image"
            placeholder="Cole o link da imagem aqui... ğŸ“¸">
          <span class="input-icon">ğŸŒŸ</span>
        </div>
        <!-- Preview da imagem -->
        <div class="image-preview" *ngIf="newNote.image">
          <img [src]="newNote.image" alt="Preview" (error)="newNote.image = ''">
        </div>
      </div>

      <!-- Campos ocultos -->
      <input type="hidden" [(ngModel)]="newNote.last_revision_date" name="last_revision_date">
      <input type="hidden" [(ngModel)]="newNote.next_revision_date" name="next_revision_date">

    </form>
  </div>

  <!-- BotÃµes de AÃ§Ã£o -->
  <div class="kids-actions animate-slide-up">
    <button
      type="button"
      class="action-btn action-create"
      (click)="createNote()"
      matTooltip="Salvar nota">
      <span class="btn-emoji">âœ…</span>
      <span class="btn-text">Salvar Nota!</span>
    </button>

    <button
      type="button"
      class="action-btn action-list"
      [routerLink]="['/apps/notes']"
      matTooltip="Ver todas as notas">
      <span class="btn-emoji">ğŸ“‹</span>
      <span class="btn-text">Minhas Notas</span>
    </button>

    <button
      type="button"
      class="action-btn action-cards"
      [routerLink]="['/apps/list']"
      matTooltip="Ver em cards">
      <span class="btn-emoji">ğŸƒ</span>
      <span class="btn-text">Flashcards</span>
    </button>

    <button
      type="button"
      class="action-btn action-graph"
      [routerLink]="['/apps/graph']"
      matTooltip="Ver grÃ¡fico">
      <span class="btn-emoji">ğŸ—ºï¸</span>
      <span class="btn-text">Mapa Mental</span>
    </button>
  </div>

  <!-- Dica do dia -->
  <div class="kids-tip animate-float">
    <span class="tip-icon">ğŸ’¡</span>
    <span class="tip-text">Dica: Quanto mais vocÃª pratica, mais fÃ¡cil fica lembrar!</span>
  </div>

</div>
